{% extends '@IEPCContentAdmin/_layouts/default.html.twig' %}

{% block content %}

    {{ form(form) }}

{% endblock content %}

{% block javascripts %}
    {{ parent() }}
    <script>
        tinymce.init({
            selector: '#page_content',
            height: 400,
            plugins : 'code media contextmenu advlist autosave colorpicker save template paste preview image link autolink insertdatetime hr pagebreak wordcount textcolor table imagetools',
            images_upload_base_path: '/lslsls',
            images_upload_credentials: true,
            images_upload_url: '/admin/tinymce/upload',
            schema: 'html5',
            automatic_uploads: false,
            file_picker_callback : function(callback, value, meta) {
                console.log(callback, value, meta);

                // Provide file and text for the link dialog
                if (meta.filetype == 'file') {
                    callback('mypage.html', {text: 'My text'});
                }

                // Provide image and alt text for the image dialog
                if (meta.filetype == 'image') {
                    callback('myimage.jpg', {alt: 'My alt text'});
                }

                // Provide alternative source and posted for the media dialog
                if (meta.filetype == 'media') {
                    callback('movie.mp4', {source2: 'alt.ogg', poster: 'image.jpg'});
                }
            },
            file_picker_types: 'file image media',
            paste_data_images: true
        });

        $('#page_Guardar').on('click', function(){
            saveContent.apply(this);
        });
    </script>
{% endblock javascripts %}